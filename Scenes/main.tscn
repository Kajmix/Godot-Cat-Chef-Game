[gd_scene load_steps=22 format=4 uid="uid://bfsbomotj4qip"]

[ext_resource type="Script" uid="uid://dqvsmcl8igj5e" path="res://Scripts/main_game_manager.gd" id="1_344ge"]
[ext_resource type="PackedScene" uid="uid://baisslgr622gk" path="res://Scenes/player.tscn" id="1_jjgbg"]
[ext_resource type="Texture2D" uid="uid://c6esu4gaqsvfq" path="res://Assets/Sprite-0002.png" id="2_bo1nx"]
[ext_resource type="Script" uid="uid://bratauna38j21" path="res://Scenes/ui_manager.gd" id="2_d1ilt"]
[ext_resource type="FontFile" uid="uid://be7opo235lcnt" path="res://Fonts/Jersey10-Regular.ttf" id="2_ynf5e"]
[ext_resource type="PackedScene" uid="uid://cwi2n7fauhcs2" path="res://Scenes/table.tscn" id="3_8gbba"]
[ext_resource type="Script" uid="uid://dwfoxvobpphr4" path="res://Scripts/client_spawner.gd" id="3_kry3j"]
[ext_resource type="Script" uid="uid://b5042h85utnlg" path="res://Scripts/exit.gd" id="4_jjvhh"]
[ext_resource type="Script" uid="uid://8ir737pqx3h6" path="res://Scripts/items_spawner.gd" id="6_6bp64"]
[ext_resource type="PackedScene" uid="uid://bdteynao3kpgl" path="res://Scenes/item.tscn" id="6_21xkr"]
[ext_resource type="Script" uid="uid://b564k470aweeh" path="res://Scenes/pause.gd" id="10_hptm8"]

[sub_resource type="LabelSettings" id="LabelSettings_hptm8"]
font = ExtResource("2_ynf5e")
font_size = 21

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_hptm8"]
texture = ExtResource("2_bo1nx")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-5.967664, -8, 8, -8, 8, 8, -6.015026, 8)
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8.022593, -9.769447, 8.054919, -9.816933, 8, 8, -8, 8)
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0

[sub_resource type="TileSet" id="TileSet_kry3j"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_hptm8")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_d1ilt"]
texture = ExtResource("2_bo1nx")
0:0/0 = 0
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:1/0 = 0
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -5.2793283, 8, -5.3957615, 8, -8, -8, -8)
0:1/0 = 0
0:2/0 = 0
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -5.2793283, 8, -5.3957615, 8, -8, -8, -8)
2:2/0 = 0
1:3/0 = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -5.2793283, 8, -5.3957615, 8, -8, -8, -8)
0:3/0 = 0
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -5.2793283, 8, -5.3957615, 8, -8, -8, -8)
2:3/0 = 0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, -8, 8, 8, 8, 8, -8)
3:2/0 = 0
3:1/0 = 0
3:0/0 = 0
3:3/0 = 0

[sub_resource type="TileSet" id="TileSet_jjvhh"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_d1ilt")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8gbba"]
size = Vector2(30, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kry3j"]
size = Vector2(96, 48)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_21xkr"]

[sub_resource type="CanvasTexture" id="CanvasTexture_ynf5e"]

[sub_resource type="LabelSettings" id="LabelSettings_ynf5e"]
font = ExtResource("2_ynf5e")
font_size = 31

[node name="Main" type="Node2D"]
script = ExtResource("1_344ge")

[node name="ui" type="Control" parent="."]
z_index = 6
layout_mode = 3
anchors_preset = 0
offset_left = -144.0
offset_top = -81.0
offset_right = 144.0
offset_bottom = 81.0
script = ExtResource("2_d1ilt")

[node name="Label" type="Label" parent="ui"]
layout_mode = 0
offset_left = 8.0
offset_top = 139.0
offset_right = 70.0
offset_bottom = 162.0
text = "Money: "
label_settings = SubResource("LabelSettings_hptm8")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Player" parent="." instance=ExtResource("1_jjgbg")]
z_index = 5

[node name="Tilemap" type="TileMapLayer" parent="."]
z_index = -1

[node name="Furniture" type="TileMapLayer" parent="Tilemap"]
z_index = 1
tile_map_data = PackedByteArray("AAD8//v/AAADAAAAAAD8//z/AAADAAAAAAD8//3/AAADAAEAAAD6//3/AAADAAIAAAD5//3/AAADAAIAAAD3//3/AAADAAIAAAD7//3/AAADAAIAAAA=")
tile_set = SubResource("TileSet_kry3j")

[node name="Background" type="TileMapLayer" parent="Tilemap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAD2//r/AAACAAMAAAD2//v/AAACAAMAAAD2//z/AAACAAMAAAD2//3/AAACAAMAAAD2//7/AAACAAMAAAD2////AAACAAMAAAD2/wAAAAACAAMAAAD2/wEAAAACAAMAAAD2/wIAAAACAAMAAAD2/wMAAAACAAMAAAD2/wQAAAACAAMAAAD2/wUAAAACAAMAAAD3//r/AAACAAAAAAD3//v/AAABAAAAAAD3//z/AAADAAMAAAD3//3/AAADAAMAAAD3//7/AAAAAAEAAAD3////AAAAAAEAAAD3/wAAAAAAAAEAAAD3/wEAAAAAAAEAAAD3/wIAAAAAAAEAAAD3/wMAAAAAAAEAAAD3/wQAAAAAAAEAAAD3/wUAAAACAAMAAAD4//r/AAACAAAAAAD4//v/AAABAAAAAAD4//z/AAADAAMAAAD4//3/AAADAAMAAAD4//7/AAAAAAAAAAD4////AAAAAAAAAAD4/wAAAAAAAAAAAAD4/wEAAAAAAAAAAAD4/wIAAAAAAAAAAAD4/wMAAAAAAAAAAAD4/wQAAAAAAAEAAAD4/wUAAAACAAMAAAD5//r/AAACAAAAAAD5//v/AAABAAAAAAD5//z/AAADAAMAAAD5//3/AAADAAMAAAD5//7/AAAAAAAAAAD5////AAAAAAAAAAD5/wAAAAAAAAAAAAD5/wEAAAAAAAAAAAD5/wIAAAAAAAAAAAD5/wMAAAAAAAAAAAD5/wQAAAAAAAEAAAD5/wUAAAACAAMAAAD6//r/AAACAAAAAAD6//v/AAABAAAAAAD6//z/AAADAAMAAAD6//3/AAADAAMAAAD6//7/AAAAAAIAAAD6////AAAAAAIAAAD6/wAAAAAAAAIAAAD6/wEAAAAAAAIAAAD6/wIAAAAAAAIAAAD6/wMAAAAAAAAAAAD6/wQAAAAAAAEAAAD6/wUAAAACAAMAAAD7//r/AAACAAAAAAD7//v/AAABAAAAAAD7//z/AAADAAMAAAD7//3/AAADAAMAAAD7//7/AAAAAAIAAAD7////AAAAAAIAAAD7/wAAAAAAAAIAAAD7/wEAAAAAAAIAAAD7/wIAAAAAAAIAAAD7/wMAAAAAAAAAAAD7/wQAAAAAAAEAAAD7/wUAAAACAAMAAAD8//r/AAACAAAAAAD8//v/AAABAAAAAAD8//z/AAADAAMAAAD8//3/AAADAAMAAAD8//7/AAAAAAIAAAD8////AAAAAAIAAAD8/wAAAAAAAAIAAAD8/wEAAAAAAAIAAAD8/wIAAAAAAAIAAAD8/wMAAAAAAAAAAAD8/wQAAAAAAAEAAAD8/wUAAAACAAMAAAD9//r/AAACAAAAAAD9//v/AAABAAAAAAD9//z/AAAAAAAAAAD9//3/AAAAAAAAAAD9//7/AAAAAAAAAAD9////AAAAAAAAAAD9/wAAAAAAAAAAAAD9/wEAAAAAAAAAAAD9/wIAAAAAAAAAAAD9/wMAAAAAAAAAAAD9/wQAAAAAAAEAAAD9/wUAAAACAAMAAAD+//r/AAACAAAAAAD+//v/AAABAAAAAAD+//z/AAAAAAAAAAD+//3/AAAAAAAAAAD+//7/AAAAAAAAAAD+////AAAAAAAAAAD+/wAAAAAAAAAAAAD+/wEAAAAAAAAAAAD+/wIAAAAAAAAAAAD+/wMAAAAAAAAAAAD+/wQAAAAAAAEAAAD+/wUAAAACAAMAAAD///r/AAACAAAAAAD///v/AAABAAAAAAD///z/AAAAAAAAAAD///3/AAAAAAAAAAD///7/AAAAAAAAAAD/////AAAAAAAAAAD//wAAAAAAAAAAAAD//wEAAAAAAAAAAAD//wIAAAAAAAAAAAD//wMAAAAAAAAAAAD//wQAAAAAAAEAAAD//wUAAAACAAMAAAAAAPr/AAACAAAAAAAAAPv/AAABAAAAAAAAAPz/AAAAAAAAAAAAAP3/AAAAAAAAAAAAAP7/AAAAAAAAAAAAAP//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAQAAAAAAAEAAAAAAAUAAAACAAMAAAABAPr/AAACAAAAAAABAPv/AAABAAAAAAABAPz/AAAAAAAAAAABAP3/AAAAAAAAAAABAP7/AAAAAAAAAAABAP//AAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAABAAIAAAAAAAAAAAABAAMAAAAAAAAAAAABAAQAAAAAAAEAAAABAAUAAAACAAMAAAACAPr/AAACAAAAAAACAPv/AAABAAAAAAACAPz/AAAAAAAAAAACAP3/AAAAAAIAAAACAP7/AAAAAAIAAAACAP//AAAAAAIAAAACAAAAAAAAAAIAAAACAAEAAAAAAAIAAAACAAIAAAAAAAIAAAACAAMAAAAAAAAAAAACAAQAAAAAAAEAAAACAAUAAAACAAMAAAADAPr/AAACAAAAAAADAPv/AAABAAAAAAADAPz/AAAAAAAAAAADAP3/AAAAAAIAAAADAP7/AAAAAAIAAAADAP//AAAAAAIAAAADAAAAAAAAAAIAAAADAAEAAAAAAAIAAAADAAIAAAAAAAIAAAADAAMAAAAAAAAAAAADAAQAAAAAAAEAAAADAAUAAAACAAMAAAAEAPr/AAACAAEAAAAEAPv/AAABAAEAAAAEAPz/AAAAAAAAAAAEAP3/AAAAAAIAAAAEAP7/AAAAAAIAAAAEAP//AAAAAAIAAAAEAAAAAAAAAAIAAAAEAAEAAAAAAAIAAAAEAAIAAAAAAAIAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAEAAAAEAAUAAAACAAMAAAAFAPr/AAACAAIAAAAFAPv/AAABAAMAAAAFAPz/AAAAAAAAAAAFAP3/AAAAAAIAAAAFAP7/AAAAAAIAAAAFAP//AAAAAAIAAAAFAAAAAAAAAAIAAAAFAAEAAAAAAAIAAAAFAAIAAAAAAAIAAAAFAAMAAAAAAAAAAAAFAAQAAAAAAAEAAAAFAAUAAAACAAMAAAAGAPr/AAACAAAAAAAGAPv/AAABAAIAAAAGAPz/AAAAAAAAAAAGAP3/AAAAAAIAAAAGAP7/AAAAAAIAAAAGAP//AAAAAAIAAAAGAAAAAAAAAAIAAAAGAAEAAAAAAAIAAAAGAAIAAAAAAAIAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAEAAAAGAAUAAAACAAMAAAAHAPr/AAACAAAAAAAHAPv/AAABAAIAAAAHAPz/AAAAAAAAAAAHAP3/AAAAAAAAAAAHAP7/AAAAAAAAAAAHAP//AAAAAAAAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAEAAAAHAAUAAAACAAMAAAAIAPr/AAACAAAAAAAIAPv/AAABAAIAAAAIAPz/AAAAAAEAAAAIAP3/AAAAAAEAAAAIAP7/AAAAAAEAAAAIAP//AAAAAAEAAAAIAAAAAAAAAAEAAAAIAAEAAAAAAAEAAAAIAAIAAAAAAAEAAAAIAAMAAAAAAAEAAAAIAAQAAAAAAAEAAAAIAAUAAAACAAMAAAAJAPr/AAACAAMAAAAJAPv/AAACAAMAAAAJAPz/AAACAAMAAAAJAP3/AAACAAMAAAAJAP7/AAACAAMAAAAJAP//AAACAAMAAAAJAAAAAAACAAMAAAAJAAEAAAACAAMAAAAJAAIAAAACAAMAAAAJAAMAAAACAAMAAAAJAAQAAAACAAMAAAAJAAUAAAACAAMAAAA=")
tile_set = SubResource("TileSet_jjvhh")

[node name="Tables" type="Node2D" parent="."]
script = ExtResource("3_kry3j")

[node name="Table1" parent="Tables" groups=["table"] instance=ExtResource("3_8gbba")]
position = Vector2(-88, 10)

[node name="Table2" parent="Tables" groups=["table"] instance=ExtResource("3_8gbba")]
position = Vector2(61, 42)

[node name="Table3" parent="Tables" groups=["table"] instance=ExtResource("3_8gbba")]
position = Vector2(104, -43)

[node name="Table4" parent="Tables" groups=["table"] instance=ExtResource("3_8gbba")]
position = Vector2(40, 0)

[node name="Table5" parent="Tables" groups=["table"] instance=ExtResource("3_8gbba")]
position = Vector2(-57, 39)

[node name="Table6" parent="Tables" groups=["table"] instance=ExtResource("3_8gbba")]
position = Vector2(63, -30)

[node name="Table7" parent="Tables" groups=["table"] instance=ExtResource("3_8gbba")]
position = Vector2(86, 6)

[node name="Table8" parent="Tables" groups=["table"] instance=ExtResource("3_8gbba")]
position = Vector2(-60, -2)

[node name="Client_Cooldown" type="Timer" parent="Tables"]
wait_time = 5.0
autostart = true

[node name="Exit" type="Area2D" parent="."]
script = ExtResource("4_jjvhh")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exit"]
position = Vector2(80, -80)
shape = SubResource("RectangleShape2D_8gbba")
debug_color = Color(0.8558884, 0.0007698995, 0.8871944, 0.41960785)

[node name="Items" type="StaticBody2D" parent="."]
script = ExtResource("6_6bp64")

[node name="Items Area" type="Area2D" parent="Items"]

[node name="Items Colision Shape" type="CollisionShape2D" parent="Items/Items Area"]
position = Vector2(-96, -56)
shape = SubResource("RectangleShape2D_kry3j")
debug_color = Color(0.99884444, 0, 0.14337987, 0.41960785)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Items"]
position = Vector2(-170, -69)
shape = SubResource("RectangleShape2D_21xkr")
disabled = true

[node name="Items Holder" type="Node2D" parent="Items"]

[node name="Item1" parent="Items/Items Holder" instance=ExtResource("6_21xkr")]

[node name="Item2" parent="Items/Items Holder" instance=ExtResource("6_21xkr")]
position = Vector2(-96, -45)

[node name="Item3" parent="Items/Items Holder" instance=ExtResource("6_21xkr")]
position = Vector2(-86, -45)

[node name="Item4" parent="Items/Items Holder" instance=ExtResource("6_21xkr")]
position = Vector2(-76, -45)

[node name="Item5" parent="Items/Items Holder" instance=ExtResource("6_21xkr")]
position = Vector2(-66, -45)

[node name="Item6" parent="Items/Items Holder" instance=ExtResource("6_21xkr")]
position = Vector2(-56, -45)

[node name="Item7" parent="Items/Items Holder" instance=ExtResource("6_21xkr")]
position = Vector2(-56, -55)

[node name="Item8" parent="Items/Items Holder" instance=ExtResource("6_21xkr")]
position = Vector2(-56, -65)

[node name="Pause_ui" type="CanvasLayer" parent="."]
layer = 7
visible = false
script = ExtResource("10_hptm8")

[node name="Control" type="Control" parent="Pause_ui"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="TextureRect" parent="Pause_ui/Control"]
modulate = Color(0.12509455, 0.12509455, 0.12509455, 0.41568628)
z_index = -5
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("CanvasTexture_ynf5e")

[node name="CenterContainer" type="CenterContainer" parent="Pause_ui/Control"]
z_index = 405
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="Pause_ui/Control/CenterContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="Pause_ui/Control/CenterContainer/VBoxContainer"]
layout_mode = 2
text = "Paused"
label_settings = SubResource("LabelSettings_ynf5e")

[node name="Play" type="Button" parent="Pause_ui/Control/CenterContainer/VBoxContainer"]
layout_mode = 2
text = "Play"

[node name="Exit" type="Button" parent="Pause_ui/Control/CenterContainer/VBoxContainer"]
layout_mode = 2
text = "Exit"

[connection signal="timeout" from="Tables/Client_Cooldown" to="Tables" method="_on_client_cooldown_timeout"]
[connection signal="body_entered" from="Exit" to="Exit" method="_on_body_entered"]
[connection signal="body_entered" from="Items/Items Area" to="Items" method="_on_items_area_body_entered"]
[connection signal="body_exited" from="Items/Items Area" to="Items" method="_on_items_area_body_exited"]
[connection signal="pressed" from="Pause_ui/Control/CenterContainer/VBoxContainer/Play" to="Pause_ui" method="_on_play_pressed"]
[connection signal="pressed" from="Pause_ui/Control/CenterContainer/VBoxContainer/Exit" to="Pause_ui" method="_on_exit_pressed"]
